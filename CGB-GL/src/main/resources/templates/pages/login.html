
    <!doctype html>
<html>
<head>
 <title>用户登录</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!--图标-->
	<link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">
	
	<!--布局框架-->
	<link rel="stylesheet" type="text/css" href="/css/util.css">
	
	<!--主要样式-->
	<link rel="stylesheet" type="text/css" href="/css/main.css">
</head>

<body>

<div class="login" id="vue">
	<div class="container-login100">
		<div class="wrap-login100">
			<div class="login100-pic js-tilt" data-tilt>
				<img src="/img/img-01.png" alt="IMG">
			</div>

        <div   v-if="act==='login'">

			<form class="login100-form validate-form" id="form-login" >
				<span class="login100-form-title">
					会员登陆
				</span>

				<div class="wrap-input100 validate-input">
					<input class="input100" type="text" name="username" id="m_name" placeholder="用户名">
					<span class="focus-input100"></span>
					<span class="symbol-input100">
						<i class="fa fa-user" aria-hidden="true"></i>
					</span>
				</div>

				<div class="wrap-input100 validate-input">
					<input class="input100" type="password" name="password" placeholder="密码">
					<span class="focus-input100"></span>
					<span class="symbol-input100">
						<i class="fa fa-lock" aria-hidden="true"></i>
					</span>
				</div>
				
				<div class="container-login100-form-btn">
					<button class="login100-form-btn"   type="button" @click="login">
						登陆
					</button>
				</div>

				<div class="text-center p-t-12">
				 
				</div>

				<div class="text-center p-t-136">
				 
				</div>
			</form>
          </div>
            
            
            
            
            
            
    
            
            
            
            
            
             
            
            
		</div>
	</div>
</div>

 
<script src="/assets/show/js/jquery-3.1.1.min.js" type="text/javascript"></script>
 

<script src="/assets/layer/layer.js"></script>
<script src="/assets/show/js/main.js"></script>
<script>
 
   new Vue({
    el: '#vue',
    data: {
      act: 'login',
      loginType: 'user',
     },
     methods: {
 	 
      login: function () {
         var vm = this;
        this.$post('/ajax/doLogin', new FormData(document.getElementById("form-login")))
          .then(function (data) {
            if (data.code === 0) {
				  window.location.href = '/';
				             } else {
                layer.alert(data.msg);
            }
          });
      },
	      
  
    },

 

    mounted: function () {
      var vm = this;
      document.onkeyup = function (e) {
        var code = parseInt(e.charCode || e.keyCode);
        if (code === 13) {
          vm.act === 'login' ? vm.login() : vm.reg();
        }
      }
    }
  });
 
</script>
</body>
</html> 